# ä¸Šæ¸¸ä»“åº“æ›´æ–°æ—¥å¿—

æœ¬æ–‡ä»¶è®°å½•ä»ä¸Šæ¸¸ (QuantumNous/new-api) åŒæ­¥çš„æ›´æ–°å†…å®¹ã€‚

---

## 2026-01-14 åŒæ­¥ (v0.10.5+ â†’ v0.10.6-alpha.2)

**æ›´æ–°èŒƒå›´**: `b808b96c..6169f46c` (320 ä¸ªæäº¤)
**æ—¶é—´è·¨åº¦**: 2025-12-31 è‡³ 2026-01-14 (çº¦2å‘¨)
**æ–°å¢ç‰ˆæœ¬**:
- v0.10.5 (ç¨³å®šç‰ˆ)
- v0.10.5-checkin.1 (ç­¾åˆ°åŠŸèƒ½åˆ†æ”¯)
- v0.10.5-ionet.2 (ionet é›†æˆåˆ†æ”¯)
- v0.10.6-alpha.1, v0.10.6-alpha.2 (æµ‹è¯•ç‰ˆ)

---

### ğŸ‰ é‡å¤§æ–°åŠŸèƒ½

#### 1. **ç­¾åˆ°åŠŸèƒ½ (Check-in)** ğŸ
- å®Œæ•´çš„ç”¨æˆ·ç­¾åˆ°ç³»ç»Ÿ
- é›†æˆ Turnstile å®‰å…¨éªŒè¯é˜²æ­¢åˆ·ç­¾
- ç­¾åˆ°å¥–åŠ±é…é¢ç³»ç»Ÿ
- ç­¾åˆ°æ—¥å† UI ç»„ä»¶
- æ–‡ä»¶: `controller/checkin.go`, `model/checkin.go`, `CheckinCalendar.jsx`
- æäº¤: `8abfbe37`, `c33ac97c`, `3402d09e`
- ç‰ˆæœ¬: v0.10.5-checkin.1

#### 2. **æ–° API ç«¯ç‚¹**
- `/v1/response` - æ–°çš„å“åº” API æ ¼å¼ (v0.10.6-alpha.1)
- `/v1/responses` - Doubao å“åº”æ”¯æŒ
- `/v1/chat/completion` â†’ `/v1/response` è½¬æ¢æ”¯æŒ
- æ–‡ä»¶: `relay/chat_completions_via_responses.go`, `service/openaicompat/`
- æäº¤: `62b796fa`, `67ba913b`

#### 3. **Claude Opus 4.5 æ”¯æŒ** ğŸ¤–
- æ–°å¢ claude-opus-4-5-20251101 æ¨¡å‹
- å®Œæ•´çš„æ¨¡å‹æ¯”ç‡é…ç½®
- æäº¤: `79682dc5`, `5931d333`

#### 4. **Doubao Video 1.5** ğŸ¬
- æ”¯æŒå­—èŠ‚è·³åŠ¨ Doubao Video 1.5 è§†é¢‘ç”Ÿæˆ
- æäº¤: `a4f28f0b`, `ca11fcba`

#### 5. **æ¸ é“æµ‹è¯•å‚æ•°è¦†ç›–** ğŸ”§
- æ”¯æŒåœ¨æ¸ é“æµ‹è¯•æ—¶è¦†ç›–å‚æ•°
- æäº¤: `6169f46c`
- ç‰ˆæœ¬: v0.10.6-alpha.2

#### 6. **çŠ¶æ€ç è‡ªåŠ¨ç¦ç”¨æ¸ é“** âš ï¸
- æ ¹æ® HTTP çŠ¶æ€ç è‡ªåŠ¨ç¦ç”¨å¼‚å¸¸æ¸ é“
- å¯é…ç½®çŠ¶æ€ç èŒƒå›´è§„åˆ™
- æ–‡ä»¶: `setting/operation_setting/status_code_ranges.go`
- æäº¤: `41da848c`

---

### ğŸ¤– æ¨¡å‹æ›´æ–°

#### Gemini ç³»åˆ—ä¿®å¤
- ä¿®å¤ Gemini propertyNames æ¸…ç†é—®é¢˜ (`138fcd23`, `d73a0440`)
- æ”¯æŒ snake_case å­—æ®µæ ¼å¼ (`4ed4a765`)
- ä¿®å¤ Gemini unmarshal é”™è¯¯ (`22b94385`)
- åŸç”Ÿ v1beta/models ç«¯ç‚¹è·å–æ¨¡å‹åˆ—è¡¨ (`c2464fc8`, `1a5c8f3c`)
- ä¿®å¤ Gemini æ–‡ä»¶ç±»å‹ä¸æ”¯æŒ image/jpg (`5ed4583c`)
- ä¿®å¤ Gemini tool call é—®é¢˜ (`ddb40b1a`, `e8aaed44`)

#### MiniMax ç³»åˆ—
- æ·»åŠ  MiniMax-M2 ç³»åˆ—æ¨¡å‹åˆ° ModelList (`c975b4cf`)
- ç§»é™¤ Minimax ä» FETCHABLE æ¸ é“ (`b51d1e2f`, `e1d43a82`)

#### å…¶ä»–æ¨¡å‹
- OpenAI developer role æ˜ å°„åˆ° Gemini system instructions (`1de78f87`)

---

### ğŸ”§ é‡è¦æ”¹è¿›

#### å®‰å…¨æ€§å¢å¼º
- API Key æ•æ„Ÿä¿¡æ¯æ­£åˆ™è„±æ• (`e13459f3`)
- Token è®¤è¯æ”¯æŒå°å†™ bearer å’Œå¤šç©ºæ ¼ (`14c58aea`, `31a34871`)
- ç­¾åˆ°åŠŸèƒ½é›†æˆ Turnstile å®‰å…¨æ£€æŸ¥ (`c33ac97c`)

#### æ¸ é“ç®¡ç†
- æ¸ é“å‚æ•°æ“ä½œæ”¯æŒ: copy, trim_prefix, trim_suffix, ensure_prefix, ensure_suffix, trim_space, to_lower, to_upper, replace, regex_replace (`817da8d7`)
- ä¿®å¤æ‰¹é‡æ·»åŠ  Key åç«¯å»é‡ (`a8f7c061`, `9e61338a`)
- ä¿®å¤ AWS ä»£ç†è¶…æ—¶é—®é¢˜ (`5f37a1e9`, `d3f33932`)
- æ”¯æŒ HTTP_PROXY ç¯å¢ƒå˜é‡ (`04ea79c4`, `2b8cbbe5`)

#### è®¡è´¹ç›¸å…³
- ä¿®å¤ Anthropic æ¸ é“ç¼“å­˜è®¡è´¹é”™è¯¯ (`0a2f12c0`, `a0c3d37d`)
- ä¿®å¤æ™ºè°±ã€Moonshot æ¸ é“ stream=true æ—¶æ— æ³•è·å– cachePrompt ç»Ÿè®¡ (`ab81d6e4`)
- ä»·æ ¼æ˜¾ç¤ºä½¿ç”¨å½“å‰è´§å¸ç¬¦å· (`293a5de0`, `e346f0bf`)

#### å‰ç«¯ UI
- ä¿®å¤è·¨å¹´æ—¶é—´æ˜¾ç¤ºé—®é¢˜ (`a195e888`)
- ä¿®å¤ chat2response è®¾ç½® UI (`688280b3`)
- ä¿®å¤ç™»å½•é”™è¯¯ "already logged in" é—®é¢˜ (`d1aaa07a`, `cae05c06`)
- ä¿®å¤ sidebar é¢œè‰²é‡å  (`ea70c20f`, `4ffd54c5`)
- ç­¾åˆ°æ—¥å†ç»„ä»¶ (`CheckinCalendar.jsx`)

---

### ğŸ› é‡è¦ Bug ä¿®å¤

1. **Gemini function call ç›¸å…³**
   - æ¸…ç† propertyNames (`138fcd23`)
   - æ”¯æŒ snake_case å­—æ®µ (`4ed4a765`)
   - ä¿®å¤ unmarshal é”™è¯¯ (`4ed4a765`)

2. **æ¸ é“é…ç½®**
   - ä¿®å¤å¤šä¸ª Key æ—¶æ— æ³•è·å–ä»»åŠ¡ (`0217ed2f`)
   - ä¿®å¤ fetch upstream models (`3ebc7133`, `08466358`)
   - ä¿®å¤è§†é¢‘ä»£ç†è®¾ç½® (`58895711`, `cae05c06`)

3. **è®¡è´¹é—®é¢˜**
   - Anthropic ç¼“å­˜è®¡è´¹ (`0a2f12c0`)
   - æ™ºè°±/Moonshot ç¼“å­˜ç»Ÿè®¡ (`ab81d6e4`)
   - å…è´¹æ¨¡å‹é¢„æ‰£è´¹é€»è¾‘ (`45556c96`)

4. **å…¶ä»–ä¿®å¤**
   - GLM 4.7 finish reason (`80638979`)
   - Kling å¤±è´¥åŸå›  (`37a18827`)
   - å¥åº·æ£€æŸ¥ (`48a17efa`, `7e1d1350`)
   - è·¨å¹´æ˜¾ç¤ºé—®é¢˜ (`a195e888`)

---

### âš™ï¸ åŠŸèƒ½å¢å¼º

#### ç¯å¢ƒå˜é‡
- `HTTP_PROXY` - é»˜è®¤ HTTP å®¢æˆ·ç«¯ä»£ç†æ”¯æŒ
- `StreamScannerMaxBufferMB` - æµæ‰«æç¼“å†²åŒºå¤§å° (ä¿®å¤ nano banana pro 4k)
- ç­¾åˆ°ç›¸å…³é…ç½®

#### æ•°æ®åº“
- æ–°å¢ checkin è¡¨å’Œæ¨¡å‹
- Token è¡¨æ–°å¢ CrossGroupRetry å­—æ®µ

#### å…¶ä»–
- æ”¯æŒé¦–æ¬¡ç»‘å®šæ›´æ–°å¯†ç  (`9aeef6ab`)
- LinuxDO OAuth ç«¯ç‚¹ç¯å¢ƒå˜é‡åŒ– (`196fa135`, `68777bf0`)
- ä»»åŠ¡æŸ¥è¯¢æ•°é‡å¯é…ç½® (`0b9f6a58`)
- å¢åŠ æ–‡ä»¶ä¸‹è½½å¤§å°é™åˆ¶åˆ° 64MB (`b2d8ad78`)

---

### ğŸ“Š ç»Ÿè®¡æ•°æ®

- **æ–‡ä»¶ä¿®æ”¹**: 273 ä¸ªæ–‡ä»¶
- **æ–°å¢è¡Œæ•°**: +42,236
- **åˆ é™¤è¡Œæ•°**: -2,621
- **å‡€å¢åŠ **: +39,615 è¡Œä»£ç 

#### ä¸»è¦å˜æ›´æ–‡ä»¶
1. **controller/channel.go**: +503 è¡Œ (æ¸ é“ç®¡ç†å¤§å¹…å¢å¼º)
2. **relay/common/override.go**: +200 è¡Œ (å‚æ•°è¦†ç›–åŠŸèƒ½)
3. **service/convert.go**: +340 è¡Œ (è½¬æ¢æœåŠ¡å¢å¼º)
4. **relay/channel/gemini/relay-gemini.go**: +339 è¡Œ (Gemini åŠŸèƒ½å¢å¼º)
5. **controller/checkin.go**: æ–°å¢ (ç­¾åˆ°åŠŸèƒ½)

---

### ğŸ¯ å¯¹ä½ çš„å½±å“

#### âœ… é‡å¤§æ”¶ç›Š
1. **ç­¾åˆ°åŠŸèƒ½** - å¯ä»¥ä¸ºç”¨æˆ·æä¾›ç­¾åˆ°å¥–åŠ±ï¼Œå¢åŠ ç”¨æˆ·ç²˜æ€§
2. **Claude Opus 4.5** - æœ€æ–°æœ€å¼ºçš„ Claude æ¨¡å‹
3. **çŠ¶æ€ç è‡ªåŠ¨ç¦ç”¨** - è‡ªåŠ¨ç®¡ç†å¼‚å¸¸æ¸ é“ï¼Œå‡å°‘è¿ç»´å·¥ä½œ
4. **Gemini ä¿®å¤** - å¤šä¸ª Gemini ç›¸å…³é—®é¢˜å¾—åˆ°ä¿®å¤
5. **è®¡è´¹ä¿®å¤** - Anthropic ç¼“å­˜è®¡è´¹ã€æ™ºè°±/Moonshot ç»Ÿè®¡é—®é¢˜ä¿®å¤
6. **å®‰å…¨å¢å¼º** - API Key è„±æ•ã€Turnstile éªŒè¯

#### âš ï¸ éœ€è¦æ³¨æ„
1. **æ•°æ®åº“è¿ç§»**: æ–°å¢ checkin è¡¨ï¼Œéœ€è¦è¿è¡Œæ•°æ®åº“è¿ç§»
2. **ç¯å¢ƒå˜é‡**: æ£€æŸ¥æ˜¯å¦éœ€è¦é…ç½®æ–°çš„ç¯å¢ƒå˜é‡
3. **ç­¾åˆ°åŠŸèƒ½**: å¦‚éœ€å¯ç”¨ï¼Œéœ€è¦é…ç½® Turnstile ç›¸å…³è®¾ç½®
4. **ä¾èµ–æ›´æ–°**: go.mod å’Œå‰ç«¯ä¾èµ–éƒ½æœ‰æ›´æ–°

#### ğŸ”„ å…¼å®¹æ€§
- **å‘åå…¼å®¹**: æ‰€æœ‰æ›´æ–°éƒ½å‘åå…¼å®¹
- **æ–°åŠŸèƒ½å¯é€‰**: ç­¾åˆ°åŠŸèƒ½ç­‰æ–°åŠŸèƒ½é»˜è®¤ä¸å¯ç”¨
- **æ•°æ®åº“**: éœ€è¦è¿è¡Œè¿ç§»æ·»åŠ æ–°è¡¨

---

### ğŸš€ å‡çº§å»ºè®®

#### 1. æ•°æ®åº“è¿ç§»
```bash
# å¯åŠ¨åº”ç”¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»º checkin è¡¨
# æˆ–æ‰‹åŠ¨æ£€æŸ¥ model/checkin.go ä¸­çš„è¡¨ç»“æ„
```

#### 2. ä¾èµ–æ›´æ–°
```bash
# åç«¯ä¾èµ–
go mod tidy
go mod download

# å‰ç«¯ä¾èµ– (åœ¨ web/ ç›®å½•)
cd web
npm install  # æˆ– bun install
```

#### 3. ç¯å¢ƒå˜é‡é…ç½®
æ£€æŸ¥ `.env.example` çš„æ–°å¢é…ç½®é¡¹:
- ç­¾åˆ°åŠŸèƒ½ç›¸å…³é…ç½®
- HTTP_PROXY (å¦‚éœ€ä»£ç†)
- StreamScannerMaxBufferMB (å¦‚é‡åˆ°å¤§å“åº”é—®é¢˜)

#### 4. æµ‹è¯•é‡ç‚¹
- æµ‹è¯• Gemini æ¸ é“åŠŸèƒ½ (å¤šä¸ªä¿®å¤)
- æµ‹è¯•è®¡è´¹åŠŸèƒ½ (Anthropic ç¼“å­˜ã€æ™ºè°±/Moonshot)
- å¦‚å¯ç”¨ç­¾åˆ°åŠŸèƒ½ï¼Œæµ‹è¯•ç­¾åˆ°æµç¨‹
- æµ‹è¯• Claude Opus 4.5 æ¨¡å‹

---

### ğŸ“ å…³é”®æ–‡ä»¶å˜æ›´

#### æ–°å¢æ ¸å¿ƒæ–‡ä»¶
```
controller/checkin.go                           # ç­¾åˆ°æ§åˆ¶å™¨
model/checkin.go                                # ç­¾åˆ°æ¨¡å‹
setting/operation_setting/checkin_setting.go    # ç­¾åˆ°è®¾ç½®
setting/operation_setting/status_code_ranges.go # çŠ¶æ€ç è§„åˆ™
relay/chat_completions_via_responses.go         # å“åº”è½¬æ¢
service/openaicompat/                           # OpenAI å…¼å®¹å±‚
web/src/components/settings/personal/cards/CheckinCalendar.jsx  # ç­¾åˆ°æ—¥å†
```

#### é‡è¦ä¿®æ”¹æ–‡ä»¶
```
controller/channel.go                  # æ¸ é“ç®¡ç† (+503 è¡Œ)
relay/common/override.go               # å‚æ•°è¦†ç›– (+200 è¡Œ)
relay/channel/gemini/relay-gemini.go   # Gemini å¢å¼º (+339 è¡Œ)
service/convert.go                     # è½¬æ¢æœåŠ¡ (+340 è¡Œ)
relay/channel/aws/relay-aws.go         # AWS ä¿®å¤
```

---

### ğŸ”— ç›¸å…³é“¾æ¥

- ä¸Šæ¸¸ä»“åº“: https://github.com/QuantumNous/new-api
- æäº¤èŒƒå›´: https://github.com/QuantumNous/new-api/compare/b808b96c...6169f46c
- æœ¬æ¬¡åŒæ­¥: 320 ä¸ªæäº¤

---

### ğŸ“Œ ä¸‹æ¬¡åŒæ­¥æé†’

- å®šæœŸæ£€æŸ¥ä¸Šæ¸¸æ›´æ–°: `git fetch --all`
- æŸ¥çœ‹æ–°æäº¤: `git log main..upstream/main --oneline`
- å»ºè®®åŒæ­¥é¢‘ç‡: æ¯1-2å‘¨
- å‚è€ƒæ–‡æ¡£: `REBASE_WORKFLOW.md`

---

**æœ€åæ›´æ–°**: 2026-01-14
**åŒæ­¥æ‰§è¡Œè€…**: Claude Code
**åŸºç¡€æäº¤**: b808b96c â†’ 6169f46c (320 commits)

---

## 2025-12-31 åŒæ­¥ (v0.9.21 â†’ v0.10.5+ / ä¸»åˆ†æ”¯æœ€æ–°ç‰ˆ)

**æ›´æ–°èŒƒå›´**: `e07347ac..b808b96c` (254 ä¸ªæäº¤)
**æ—¶é—´è·¨åº¦**: 2025-10-30 è‡³ 2025-12-31 (çº¦2ä¸ªæœˆ)
**æ–°å¢ç‰ˆæœ¬**:
- v0.9.x: v0.9.22, v0.9.22-patch.1, v0.9.23, v0.9.24, v0.9.25, v0.9.26, v0.9.27, v0.9.27-patch.1, v0.9.28
- v0.10.x: v0.10.0-alpha.1/2/3, v0.10.0, v0.10.1-alpha.1~8, v0.10.1, v0.10.2, v0.10.3, v0.10.4, v0.10.5-bailian.1/2, v0.10.5-ionet.1

---

### ğŸ‰ é‡å¤§æ–°åŠŸèƒ½

#### 1. **IO.NET é›†æˆ** ğŸš€
- å®Œæ•´çš„ IO.NET éƒ¨ç½²ç®¡ç†åŠŸèƒ½
- æ¨¡å‹éƒ¨ç½²ã€å®¹å™¨ç®¡ç†ã€ç¡¬ä»¶èµ„æºç®¡ç†
- æ–°å¢æ–‡ä»¶: `pkg/ionet/`, `controller/deployment.go`
- Web ç•Œé¢æ”¯æŒ: æ¨¡å‹éƒ¨ç½²ç®¡ç†é¡µé¢
- æäº¤: `725d61c5`

#### 2. **Ollama å®Œæ•´æ”¯æŒ** ğŸ¦™
- æ–°å¢ Ollama æ¸ é“é€‚é…å™¨
- Ollama æ¨¡å‹ç®¡ç† Modal
- æ–‡ä»¶: `relay/channel/ollama/`
- Web ç»„ä»¶: `OllamaModelModal.jsx`

#### 3. **Discord é›†æˆ** ğŸ’¬
- Discord OAuth ç™»å½•æ”¯æŒ
- æ–°å¢æ–‡ä»¶: `controller/discord.go`, `setting/system_setting/discord.go`
- æäº¤: `9aeef6ab`, `#2520`

#### 4. **Pyroscope æ€§èƒ½åˆ†æé›†æˆ** ğŸ“Š
- åº”ç”¨æ€§èƒ½ç›‘æ§æ”¯æŒ
- æ–‡ä»¶: `common/pyro.go`
- æäº¤: `fcafadc6`, `#2475`

#### 5. **æ–°æ¨¡å‹æ”¯æŒ**
- **wan2.6-i2v**: é˜¿é‡Œ wan2.6 è§†é¢‘ç”Ÿæˆæ¨¡å‹ (`24d359cf`)
- **ç™¾ç‚¼å›¾ç‰‡æ¨¡å‹**: å¤šç§ç™¾ç‚¼å›¾ç‰‡ç”Ÿæˆæ¨¡å‹ (`48d358fa`)
- **gpt-4o-mini-tts**: OpenAI éŸ³é¢‘ TTS (`689c4314`, `#2434`)
- **Claude Haiku 4.5**: claude-haiku-4-5-20251001 (`c3c119a9`)
- **Gemini Flash Minimal**: (`#2460`)
- **Gemini 3 Thinking**: gemini-3-pro-preview-high (`b6a02d83`)
- **æ™ºè°± v4 å›¾ç‰‡ç”Ÿæˆ**: ZhipuAI å›¾ç‰‡ç”ŸæˆåŠŸèƒ½ (`2e373478`)

#### 6. **è·¨ç»„é‡è¯• (Cross-Group Retry)** ğŸ”„
- Token çº§åˆ«çš„è·¨ç»„é‡è¯•åŠŸèƒ½
- æé«˜è¯·æ±‚æˆåŠŸç‡
- æäº¤: `7e1d1350`, `b602843c`, `#2426`

#### 7. **Token IP ç™½åå• CIDR æ”¯æŒ** ğŸ”’
- æ”¯æŒ CIDR æ ¼å¼çš„ IP é™åˆ¶
- æäº¤: `39593052`, `e16e7d6f`, `#2445`

#### 8. **OpenAPI è§„èŒƒæ–‡æ¡£** ğŸ“–
- å®Œæ•´çš„ OpenAPI JSON è§„èŒƒ
- æ–‡ä»¶: `docs/openapi/api.json`, `docs/openapi/relay.json`

#### 9. **Gemini åŠŸèƒ½å¢å¼º**
- OpenAI developer role æ˜ å°„åˆ° Gemini ç³»ç»ŸæŒ‡ä»¤ (`1de78f87`)
- Markdown å›¾ç‰‡å¤„ç† (`4dbdbdec`)
- ImageConfig å‚æ•°éªŒè¯å’Œè½¬æ¢ (`98f92f99`)
- Thinking level æ”¯æŒ (`#2344`)

#### 10. **éŸ³é¢‘å¤„ç†ä¼˜åŒ–**
- gpt-4o-mini-tts æµå¼æ”¯æŒ
- éŸ³é¢‘è¯·æ±‚å¤„ç†å¢å¼º
- Token ç±»å‹æ£€æµ‹
- æäº¤: `e36e2e1b`, `#2434`

---

### ğŸ”§ é‡è¦æ”¹è¿›

#### å‰ç«¯ UI å¤§æ›´æ–°
1. **æ¨¡å‹éƒ¨ç½²ç®¡ç†ç•Œé¢**
   - å®Œæ•´çš„éƒ¨ç½²ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - å®æ—¶æ—¥å¿—æŸ¥çœ‹
   - èµ„æºç›‘æ§
   - æ–‡ä»¶: `web/src/components/table/model-deployments/`, `web/src/pages/ModelDeployment/`

2. **Playground å¢å¼º**
   - SSE æµæŸ¥çœ‹å™¨ (`SSEViewer.jsx`)
   - PlaygroundContext ä¸Šä¸‹æ–‡ç®¡ç†
   - è‡ªå®šä¹‰è¾“å…¥æ¸²æŸ“æ”¹è¿›
   - è°ƒè¯•é¢æ¿å¢å¼º

3. **å›½é™…åŒ–**
   - æ–°å¢è¶Šå—è¯­æ”¯æŒ (`vi.json`)
   - æ³•è¯­ã€æ—¥è¯­ã€ä¿„è¯­ç¿»è¯‘æ›´æ–°

4. **æ¸ é“ç®¡ç†ä¼˜åŒ–**
   - Ollama æ¨¡å‹ç®¡ç† Modal
   - æ¸ é“ç¼–è¾‘ç•Œé¢å¤§å¹…æ”¹è¿›
   - æ¨¡å‹é€‰æ‹© Modal ä¼˜åŒ–

#### åç«¯ä¼˜åŒ–
1. **Token è®¡æ•°å™¨é‡æ„**
   - Token ä¼°ç®—å™¨ (`service/token_estimator.go`)
   - æ–°çš„ Tokenizer (`service/tokenizer.go`)
   - å¹¶å‘æ”¯æŒ
   - æäº¤: `f5b409d7`, `0c051e96`, `#2355`

2. **è¯·æ±‚ä½“å¤„ç†æ”¹è¿›**
   - å¢åŠ  MaxRequestBodyMB é™åˆ¶ (`4ee595c4`)
   - è¯·æ±‚ä½“å¤„ç†å’Œé”™è¯¯æŠ¥å‘Šæ”¹è¿› (`cc3ba39e`)
   - å“åº”å†™å…¥ flush ä¼˜åŒ– (`d474ed47`)

3. **æ¸ é“é€‰æ‹©é€»è¾‘ä¼˜åŒ–**
   - `service/channel_select.go` å¤§å¹…é‡æ„
   - é”™è¯¯å¤„ç†æ”¹è¿›

4. **è½¬æ¢æœåŠ¡å¢å¼º**
   - `service/convert.go` å¤§é‡æ›´æ–°
   - æ”¯æŒæ›´å¤šæ ¼å¼è½¬æ¢

---

### ğŸ› é‡è¦ Bug ä¿®å¤

1. **GLM 4.7 finish reason ä¿®å¤** (`#2545`)
2. **Openrouter æµ‹è¯•é”™è¯¯ä¿®å¤** (`#2433`)
3. **Gemini FunctionResponse inline data parts ä¿®å¤** (fix/gemini-functionresponse-inline-data-parts)
4. **æ¨¡å‹åŒæ­¥è¦†ç›–ç©º/ç¼ºå¤±å€¼ä¿®å¤** (`#2512`, `35538ecb`)
5. **TaskLogs è§†é¢‘ URL é¢„è§ˆä¿®å¤** (`b808b96c`)
6. **è­¦å‘Šä¼ é€’ body ä¿®å¤** (`#2512`)
7. **Token è®¤è¯ Bearer ä¿®å¤** (`#2513`)
8. **é˜¿é‡Œå›¾ç‰‡å¤„ç†ä¼˜åŒ–** (`2a5b2add`)

---

### ğŸ”„ æ¶æ„å˜æ›´

#### æ–°å¢æ ¸å¿ƒæ¨¡å—
- `pkg/ionet`: IO.NET å®¢æˆ·ç«¯åº“
- `service/token_estimator.go`: Token ä¼°ç®—æœåŠ¡
- `service/tokenizer.go`: åˆ†è¯å™¨æœåŠ¡
- `common/pyro.go`: Pyroscope é›†æˆ
- `setting/reasoning/suffix.go`: Reasoning åç¼€è®¾ç½®

#### åˆ é™¤çš„æ–‡æ¡£
- `docs/api/api_auth.md`
- `docs/api/web_api.md`
- `docs/models/Midjourney.md`
- `docs/models/Rerank.md`
- `docs/models/Suno.md`

æ”¹ä¸ºä½¿ç”¨ OpenAPI è§„èŒƒæ–‡æ¡£

#### æ–°å¢ç¯å¢ƒå˜é‡
- `TASK_QUERY_LIMIT`: ä»»åŠ¡æŸ¥è¯¢æ•°é‡é™åˆ¶ (`0b9f6a58`)
- Discord ç›¸å…³é…ç½®
- IO.NET ç›¸å…³é…ç½®
- Pyroscope ç›¸å…³é…ç½®

---

### ğŸ“Š ç»Ÿè®¡æ•°æ®

- **æ–‡ä»¶ä¿®æ”¹**: 240 ä¸ªæ–‡ä»¶
- **æ–°å¢è¡Œæ•°**: +35,530
- **åˆ é™¤è¡Œæ•°**: -2,502
- **å‡€å¢åŠ **: +33,028 è¡Œä»£ç 

#### ä¸»è¦æ–°å¢æ–‡ä»¶ç±»åˆ«
1. **IO.NET é›†æˆ**: 6 ä¸ªæ ¸å¿ƒæ–‡ä»¶
2. **æ¨¡å‹éƒ¨ç½² UI**: 20+ ç»„ä»¶æ–‡ä»¶
3. **Ollama æ”¯æŒ**: æ¸ é“é€‚é…å™¨ + UI Modal
4. **Discord é›†æˆ**: æ§åˆ¶å™¨ + è®¾ç½®
5. **OpenAPI æ–‡æ¡£**: 2 ä¸ª JSON è§„èŒƒæ–‡ä»¶

---

### ğŸ¯ å¯¹ä½ çš„å½±å“

#### âœ… é‡å¤§æ”¶ç›Š
1. **IO.NET é›†æˆ** - å¯ä»¥éƒ¨ç½²å’Œç®¡ç†æ¨¡å‹å®ä¾‹
2. **è·¨ç»„é‡è¯•** - æé«˜ API è¯·æ±‚æˆåŠŸç‡
3. **æ›´å¤šæ¨¡å‹æ”¯æŒ** - wan2.6, ç™¾ç‚¼, Gemini 3, æ™ºè°± v4 ç­‰
4. **æ€§èƒ½ç›‘æ§** - Pyroscope é›†æˆ
5. **Discord ç™»å½•** - æ–°çš„ç”¨æˆ·ç™»å½•æ–¹å¼
6. **Token è®¡æ•°ä¼˜åŒ–** - æ›´å‡†ç¡®ã€æ›´å¿«çš„ token ä¼°ç®—

#### âš ï¸ éœ€è¦æ³¨æ„
1. **å¤§ç‰ˆæœ¬è·¨è¶Š**: v0.9.x â†’ v0.10.xï¼Œå¯èƒ½æœ‰ç ´åæ€§å˜æ›´
2. **æ–°ç¯å¢ƒå˜é‡**: éœ€è¦é…ç½®æ–°çš„ç¯å¢ƒå˜é‡
3. **ä¾èµ–æ›´æ–°**: `go.mod` å’Œå‰ç«¯ä¾èµ–éƒ½æœ‰æ›´æ–°
4. **æ•°æ®åº“è¿ç§»**: å¯èƒ½éœ€è¦æ•°æ®åº“ schema æ›´æ–°

#### ğŸ”„ å…¼å®¹æ€§
- **å‰ç«¯**: å¤§é‡ UI æ›´æ–°ï¼Œå»ºè®®é‡æ–°æ„å»º
- **åç«¯**: Go ä¾èµ–æ›´æ–°ï¼Œéœ€è¦ `go mod tidy`
- **é…ç½®**: æ£€æŸ¥æ–°å¢çš„ç¯å¢ƒå˜é‡å’Œè®¾ç½®é¡¹

---

### ğŸš€ å‡çº§å»ºè®®

#### 1. å‡†å¤‡é˜¶æ®µ
```bash
# å·²å®Œæˆå¤‡ä»½: qiyuan-api-backup-20251231
# å½“å‰åˆå¹¶çŠ¶æ€: æˆåŠŸï¼Œæ— å†²çª
```

#### 2. ä¾èµ–æ›´æ–°
```bash
# åç«¯ä¾èµ–
go mod tidy
go mod download

# å‰ç«¯ä¾èµ– (åœ¨ web/ ç›®å½•)
cd web
npm install  # æˆ– bun install
```

#### 3. æ•°æ®åº“è¿ç§»
```bash
# æ£€æŸ¥æ˜¯å¦éœ€è¦æ•°æ®åº“è¿ç§»
# æŸ¥çœ‹ model/ ç›®å½•ä¸‹çš„å˜æ›´
```

#### 4. ç¯å¢ƒå˜é‡
- æ£€æŸ¥ `.env.example` çš„æ–°å¢é…ç½®é¡¹
- æ ¹æ®éœ€è¦é…ç½® IO.NETã€Discordã€Pyroscope ç­‰

#### 5. æµ‹è¯•
- æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½: èŠå¤©ã€å›¾ç‰‡ç”Ÿæˆã€è§†é¢‘ç”Ÿæˆ
- æµ‹è¯•æ–°åŠŸèƒ½: æ¨¡å‹éƒ¨ç½²ã€è·¨ç»„é‡è¯•
- æ£€æŸ¥æ¸ é“é…ç½®æ˜¯å¦æ­£å¸¸

#### 6. æ„å»ºéƒ¨ç½²
```bash
# åç«¯æ„å»º
go build -o new-api

# å‰ç«¯æ„å»º
cd web
npm run build  # æˆ– bun run build
```

---

### ğŸ“ å…³é”®æ–‡ä»¶å˜æ›´

#### æ–°å¢æ ¸å¿ƒæ–‡ä»¶
```
pkg/ionet/                          # IO.NET å®¢æˆ·ç«¯åº“
controller/deployment.go            # éƒ¨ç½²ç®¡ç†æ§åˆ¶å™¨
controller/discord.go               # Discord OAuth
common/pyro.go                      # Pyroscope é›†æˆ
relay/channel/ollama/               # Ollama é€‚é…å™¨
relay/channel/zhipu_4v/image.go    # æ™ºè°±å›¾ç‰‡ç”Ÿæˆ
service/token_estimator.go          # Token ä¼°ç®—å™¨
docs/openapi/                       # OpenAPI è§„èŒƒ
```

#### é‡è¦ä¿®æ”¹æ–‡ä»¶
```
controller/channel.go               # æ¸ é“ç®¡ç†å¤§å¹…æ›´æ–° (+423 è¡Œ)
service/channel_select.go           # æ¸ é“é€‰æ‹©é€»è¾‘é‡æ„
service/convert.go                  # è½¬æ¢æœåŠ¡å¢å¼º (+313 è¡Œ)
service/token_counter.go            # Token è®¡æ•°ä¼˜åŒ–
relay/channel/gemini/              # Gemini åŠŸèƒ½å¤§å¹…å¢å¼º
dto/openai_request.go              # OpenAI è¯·æ±‚ DTO æ›´æ–°
```

#### Web å‰ç«¯æ–°å¢
```
web/src/pages/ModelDeployment/                    # æ¨¡å‹éƒ¨ç½²é¡µé¢
web/src/components/table/model-deployments/       # éƒ¨ç½²ç®¡ç†ç»„ä»¶ (15+ æ–‡ä»¶)
web/src/components/table/channels/modals/OllamaModelModal.jsx
web/src/components/playground/SSEViewer.jsx
web/src/contexts/PlaygroundContext.jsx
web/src/i18n/locales/vi.json                      # è¶Šå—è¯­
```

---

### ğŸ”— ç›¸å…³é“¾æ¥

- ä¸Šæ¸¸ä»“åº“: https://github.com/QuantumNous/new-api
- æäº¤èŒƒå›´: https://github.com/QuantumNous/new-api/compare/e07347ac...b808b96c
- IO.NET æ–‡æ¡£: `docs/ionet-client.md`
- OpenAPI è§„èŒƒ: `docs/openapi/`

---

### ğŸ“Œ ä¸‹æ¬¡åŒæ­¥æé†’

- å®šæœŸæ£€æŸ¥ä¸Šæ¸¸æ›´æ–°: `git fetch --all`
- æŸ¥çœ‹æ–°æäº¤: `git log qiyuan-api..upstream/main --oneline`
- å»ºè®®åŒæ­¥é¢‘ç‡: æ¯1-2å‘¨

---

**æœ€åæ›´æ–°**: 2025-12-31
**åŒæ­¥æ‰§è¡Œè€…**: Claude Code
**åŸºç¡€æäº¤**: e07347ac â†’ b808b96c (254 commits)
**å¤‡ä»½åˆ†æ”¯**: qiyuan-api-backup-20251231

---

## 2025-11-16 åŒæ­¥ (v0.9.15-patch.2 â†’ v0.9.21+)

**æ›´æ–°èŒƒå›´**: `70f8a59a..e07347ac` (52 ä¸ªæäº¤)
**æ—¶é—´è·¨åº¦**: 2025-11-01 è‡³ 2025-11-15
**æ–°å¢ç‰ˆæœ¬**: v0.9.15-patch.2, v0.9.16, v0.9.16-patch.1, v0.9.17, v0.9.18, v0.9.19, v0.9.20, v0.9.20-patch.1, v0.9.20-patch.2, v0.9.21

---

### ğŸ‰ é‡å¤§æ–°åŠŸèƒ½

#### 1. **OpenAI GPT-5.1 æ”¯æŒ** â­
- æ”¯æŒ GPT-5.1 çš„ `prompt_cache_retention` åŠŸèƒ½
- æäº¤: `e07347ac`
- ç‰ˆæœ¬: æœ€æ–°ä¸»åˆ†æ”¯

#### 2. **Replicate æ¸ é“æ”¯æŒ** ğŸ†•
- æ–°å¢å®Œæ•´çš„ Replicate æ¸ é“é€‚é…å™¨
- æ”¯æŒ Flux æ¨¡å‹
- æ–‡ä»¶: `relay/channel/replicate/`
- æäº¤: `d0c45a01`, `af0f542d`
- ç‰ˆæœ¬: v0.9.19

#### 3. **MiniMax Hailuo è§†é¢‘ç”Ÿæˆ** ğŸ¬
- æ”¯æŒ Hailuo è§†é¢‘æ¨¡å‹ (i2v, fl2v, r2v)
- æ”¯æŒè·å–è§†é¢‘ç”Ÿæˆ URL
- æ–‡ä»¶: `relay/channel/task/hailuo/`
- æäº¤: `850a5539`, `87bc4ba4`, `d8dc8029`
- ç‰ˆæœ¬: v0.9.21

#### 4. **é˜¿é‡Œ wan2.5-i2i-preview å›¾ç‰‡æ¨¡å‹** ğŸ–¼ï¸
- æ–°å¢ wan2.5-i2i-preview æ”¯æŒ
- æ–‡ä»¶: `relay/channel/ali/image_wan.go`
- æäº¤: `344a799f`
- ç‰ˆæœ¬: v0.9.21

#### 5. **Reasoning å­—æ®µæ”¯æŒ** ğŸ§ 
- æ”¯æŒ OpenAI API çš„ reasoning å­—æ®µ
- æäº¤: `fb3b27a6`, `fd38abd5`
- ç‰ˆæœ¬: v0.9.21

---

### ğŸ› é‡è¦ Bug ä¿®å¤

#### è®¡è´¹ç›¸å…³
- **ä¿®å¤ OpenAI éŸ³é¢‘æ¨¡å‹æµæ¨¡å¼è®¡è´¹é”™è¯¯** (#2160)
  - æäº¤: `6a761c2d`
  - ç‰ˆæœ¬: v0.9.16
  - å½±å“: éŸ³é¢‘æµæ¨¡å¼ä¹‹å‰è®¡è´¹ä¸æ­£ç¡®

- **ä¿®å¤æœªè®¾ç½®ä»·æ ¼æ¨¡å‹ä¸ä¼šè¢«æ‹‰å–çš„é—®é¢˜**
  - é™¤éè®¾ç½®è‡ªç”¨æ¨¡å¼
  - æäº¤: `06cd774c`

#### æ¸ é“ç®¡ç†
- **ä¿®å¤å¯†é’¥ç®¡ç†é€»è¾‘** (#2208, #2209)
  - `GetChannelKey` æƒé™ä» AdminAuth æ”¹ä¸º RootAuth
  - æäº¤: `e2d88096`, `cb047567`
  - ç‰ˆæœ¬: v0.9.20, v0.9.20-patch.1

- **ä¿®å¤å¤šå¯†é’¥è‡ªåŠ¨ç¦ç”¨é—®é¢˜** (#2188)
  - å½“æ²¡æœ‰å¯ç”¨å¯†é’¥æ—¶è¿”å›é”™è¯¯è€Œä¸æ˜¯è¿”å›ç¬¬ä¸€ä¸ªå¯†é’¥
  - æäº¤: `e87b4600`, `43ee7a98`
  - ç‰ˆæœ¬: v0.9.18

- **ä¿®å¤ Claude é‡å¤ header é—®é¢˜**
  - é˜²æ­¢ WriteHeaders æ–¹æ³•äº§ç”Ÿé‡å¤ header å€¼
  - æäº¤: `4419be9c`

#### AWS Claude
- **ä¿®å¤ AnthropicBeta å­—æ®µçš„ omitempty å¤„ç†**
  - æäº¤: `9e80e4e7`
  - ç‰ˆæœ¬: v0.9.21

- **æ·»åŠ  anthropic-beta header æ”¯æŒ**
  - æäº¤: `e1a52f1d`

#### å…¶ä»–ä¿®å¤
- **ä¿®å¤æ ‡ç­¾åˆ†å‰²å’Œç©ºæ ¼å¤„ç†**
  - æäº¤: `f6b32a66`, `65355d88`, `8ffa961d`

- **ä¿®å¤ Jimeng å›¾ç‰‡æ¨¡å‹ç›¸å…³é—®é¢˜**
  - å»æ‰åˆ†è¾¨ç‡åç¼€çš„ 'p' (å¦‚ 1080p â†’ 1080)
  - jimeng_v30_pro é™åˆ¶ä¸º jimeng_ti2v_v30_pro æ¨¡å‹
  - æäº¤: `14295f00`, `8599b348`, `29e70acc`, `2fd33ea2`

- **ä¿®å¤ Logger é—®é¢˜**
  - æäº¤: `a9a8676f`
  - ç‰ˆæœ¬: v0.9.16-patch.1

- **ä¿®å¤ Playground åŠŸèƒ½**
  - æäº¤: `fb610e62`

---

### âœ¨ åŠŸèƒ½å¢å¼º

#### Claude ç›¸å…³
- **Claude 1å°æ—¶ç¼“å­˜æ”¯æŒ** (#2155)
  - æäº¤: `df2ee649`
  - ç‰ˆæœ¬: v0.9.16

- **Thinking åç¼€ä¿ç•™é€»è¾‘**
  - `ShouldPreserveThinkingSuffix` åŠŸèƒ½
  - æäº¤: `e0822685`
  - ç‰ˆæœ¬: v0.9.18
  - æ³¨æ„: åç»­è¢«æ³¨é‡Šæ‰ (`de93fa5f`)

#### è§†é¢‘æ¨¡å‹
- **Vidu reference2video åŠŸèƒ½å¢å¼º**
  - æ”¯æŒé€šè¿‡ metadata action æŒ‡å®š reference2video
  - viduq2 ä¸“ç”¨ reference2video
  - æäº¤: `a62d96c1`, `1a8d89c4`, `bdd5eca5`

- **é˜¿é‡Œè§†é¢‘è¯·æ±‚å¤„ç†å¢å¼º**
  - åˆ†è¾¨ç‡æ˜ å°„
  - å°ºå¯¸éªŒè¯
  - æäº¤: `42432516`

#### å‰ç«¯ UI
- **EditTagModal å¢å¼º** (#2159)
  - header å’Œ param æ”¯æŒ
  - æäº¤: `019412c2`
  - ç‰ˆæœ¬: v0.9.17

- **EditTokenModal æ”¹è¿›**
  - ç”¨æˆ·åˆ›å»ºçš„ token é»˜è®¤æ— é™é¢åº¦
  - æäº¤: `c86bc94d`

- **è‡ªå®šä¹‰å·¥å…·æ”¯æŒ** (#2157)
  - æäº¤: `96a2b81a`

#### ç¯å¢ƒå˜é‡é…ç½®
- **TASK_PRICE_PATCH ç¯å¢ƒå˜é‡**
  - ç”¨äºæŒ‰ä»»åŠ¡è®¡è´¹é…ç½®
  - æäº¤: `736f7b55`

- **å…³é”®é™æµå¼€å…³**
  - æ·»åŠ ç¯å¢ƒå˜é‡æ§åˆ¶å…³é”®é™æµ
  - æäº¤: `50e8639a`

#### è¿ç»´åŠŸèƒ½
- **é™åˆ¶è‡ªåŠ¨æ¸ é“æµ‹è¯•ä»…åœ¨ä¸»èŠ‚ç‚¹æ‰§è¡Œ**
  - æäº¤: `3dc4d6c3`

---

### ğŸ”§ ä»£ç é‡æ„

- **æ³¨é‡Šæ‰ Qwen ç¼–è¾‘çš„å›¾ç‰‡æ–‡ä»¶éªŒè¯**
  - é˜¿é‡Œå›¾ç‰‡å¤„ç†
  - æäº¤: `00782aae`
  - ç‰ˆæœ¬: v0.9.15-patch.2

- **æ³¨é‡Šæ‰ enable_thinking é€»è¾‘**
  - ä¸ºæœªæ¥è°ƒæ•´åšå‡†å¤‡
  - æäº¤: `de93fa5f`
  - ç‰ˆæœ¬: v0.9.20-patch.2

- **æ·»åŠ  '-none' åç¼€åˆ° effortSuffixes**
  - æ¨¡å‹è§£æä¼˜åŒ–
  - æäº¤: `41b2341b`

---

### ğŸ“ æ–‡æ¡£æ›´æ–°

- **README.md é‡å¤§æ›´æ–°** (#2146)
  - æ”¹è¿›ç»“æ„å’Œæ¸…æ™°åº¦
  - æ–°å¢åˆä½œä¼™ä¼´ã€è‡´è°¢ã€éƒ¨ç½²è¯´æ˜ç« èŠ‚
  - æäº¤: `46b9a88f`

- **å¤šè¯­è¨€ README åŒæ­¥**
  - æäº¤: `d56e162c`

---

### ğŸ“Š ç‰ˆæœ¬æ ‡ç­¾è¯¦æƒ…

| ç‰ˆæœ¬ | æäº¤ | ä¸»è¦å˜æ›´ | æ—¥æœŸ |
|------|------|----------|------|
| v0.9.21 | 35192e56 | AnthropicBeta å­—æ®µä¿®å¤ã€Hailuo è§†é¢‘ã€wan2.5 | 2025-11-14 |
| v0.9.20-patch.2 | de93fa5f | æ³¨é‡Š enable_thinking é€»è¾‘ | 2025-11-12 |
| v0.9.20-patch.1 | 1c5de382 | GetChannelKey æƒé™ä¿®å¤ | 2025-11-11 |
| v0.9.20 | f90f5ceb | GetChannelKey æƒé™ä¿®å¤ | 2025-11-11 |
| v0.9.19 | af0f542d | Replicate æ¸ é“æ”¯æŒ | 2025-11-10 |
| v0.9.18 | e0822685 | Thinking åç¼€ä¿ç•™ã€å¤šå¯†é’¥ä¿®å¤ | 2025-11-07 |
| v0.9.17 | 019412c2 | EditTagModal å¢å¼º | 2025-11-06 |
| v0.9.16-patch.1 | a9a8676f | Logger ä¿®å¤ | 2025-11-04 |
| v0.9.16 | 6a761c2d | éŸ³é¢‘æµæ¨¡å¼è®¡è´¹ä¿®å¤ | 2025-11-04 |
| v0.9.15-patch.2 | 00782aae | Qwen å›¾ç‰‡éªŒè¯æ³¨é‡Š | 2025-11-01 |

---

### ğŸ¯ å¯¹ä½ çš„å½±å“

#### âœ… ç›´æ¥å—ç›Š
1. **GPT-5.1 æ”¯æŒ** - å¦‚æœä½¿ç”¨ OpenAI
2. **æ–°æ¸ é“**: Replicate, Hailuo - æ›´å¤šæ¨¡å‹é€‰æ‹©
3. **è®¡è´¹ä¿®å¤** - éŸ³é¢‘æµæ¨¡å¼è®¡è´¹ç°åœ¨å‡†ç¡®äº†
4. **Claude ç¼“å­˜** - 1å°æ—¶ç¼“å­˜æ”¯æŒ

#### âš ï¸ éœ€è¦æ³¨æ„
1. **æƒé™å˜æ›´** - `GetChannelKey` ç°åœ¨éœ€è¦ RootAuth
2. **å¯†é’¥ç®¡ç†** - æ— å¯ç”¨å¯†é’¥æ—¶ä¼šè¿”å›é”™è¯¯ï¼ˆä¹‹å‰è¿”å›ç¬¬ä¸€ä¸ªï¼‰
3. **ç¯å¢ƒå˜é‡** - æ–°å¢äº†ä¸€äº›é…ç½®é¡¹å¯èƒ½éœ€è¦è®¾ç½®

#### ğŸ”„ å…¼å®¹æ€§
- **æ— ç ´åæ€§å˜æ›´** - æ‰€æœ‰æ›´æ–°éƒ½å‘åå…¼å®¹
- **æ–°åŠŸèƒ½å¯é€‰** - ä¸å½±å“ç°æœ‰åŠŸèƒ½

---

### ğŸ“ ä¸»è¦æ–‡ä»¶å˜æ›´

#### æ–°å¢æ–‡ä»¶
```
relay/channel/replicate/adaptor.go
relay/channel/replicate/constants.go
relay/channel/replicate/dto.go
relay/channel/task/hailuo/adaptor.go
relay/channel/task/hailuo/constants.go
relay/channel/task/hailuo/models.go
relay/channel/ali/image_wan.go
web/src/helpers/base64.js
```

#### é‡è¦ä¿®æ”¹
```
dto/claude.go                      - Claude ç¼“å­˜å’Œ header æ”¯æŒ
dto/openai_request.go              - Reasoning å­—æ®µæ”¯æŒ
relay/channel/aws/dto.go           - AWS Claude å¢å¼º
controller/channel.go              - æ¸ é“ç®¡ç†é€»è¾‘ä¼˜åŒ–
relay/helper/price.go              - è®¡è´¹é€»è¾‘ä¿®å¤
```

#### ä¿®æ”¹ç»Ÿè®¡
- **76 ä¸ªæ–‡ä»¶ä¿®æ”¹**
- **+3889 è¡Œ**
- **-868 è¡Œ**

---

### ğŸš€ å»ºè®®è¡ŒåŠ¨

1. **æµ‹è¯•æ–°æ¸ é“**
   - å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°è¯• Replicate å’Œ Hailuo è§†é¢‘åŠŸèƒ½

2. **æ£€æŸ¥æƒé™é…ç½®**
   - ç¡®è®¤ `GetChannelKey` ç›¸å…³çš„æƒé™è®¾ç½®

3. **éªŒè¯è®¡è´¹**
   - å¦‚æœä½¿ç”¨éŸ³é¢‘æµæ¨¡å¼ï¼Œæ£€æŸ¥è®¡è´¹æ˜¯å¦æ­£ç¡®

4. **é˜…è¯»æ–‡æ¡£**
   - æŸ¥çœ‹æ›´æ–°åçš„ README.md äº†è§£æ–°åŠŸèƒ½

5. **ç¯å¢ƒå˜é‡**
   - è€ƒè™‘æ˜¯å¦éœ€è¦è®¾ç½®æ–°çš„ç¯å¢ƒå˜é‡:
     - `TASK_PRICE_PATCH`
     - å…³é”®é™æµç›¸å…³é…ç½®

---

### ğŸ”— ç›¸å…³é“¾æ¥

- ä¸Šæ¸¸ä»“åº“: https://github.com/QuantumNous/new-api
- Pull Requests: https://github.com/QuantumNous/new-api/pulls?q=is%3Apr+merged%3A2025-11-01..2025-11-15

---

### ğŸ“Œ ä¸‹æ¬¡åŒæ­¥æé†’

- å®šæœŸæ£€æŸ¥ä¸Šæ¸¸æ›´æ–°: `git fetch --all`
- æŸ¥çœ‹æ–°æäº¤: `git log main..upstream/main --oneline`
- æŒ‰ç…§ `REBASE_WORKFLOW.md` æµç¨‹æ“ä½œ

---

**æœ€åæ›´æ–°**: 2025-11-16
**åŒæ­¥æ‰§è¡Œè€…**: Claude Code
**åŸºç¡€æäº¤**: 70f8a59a â†’ e07347ac
